# javascript控制并发请求

#javascript

需求：几百次请求，如何通过并发控制来合理的发起请求，既无需一次性请求过多，也不用做无谓的等待。

思路：
	*将 N 次请求进行分割，假设一次并发请求 3 次，分割成 N / 3 次，循环遍历 N / 3 次。每次使用 Promise.allsettled 获取并发请求的结果。

	*假设一次并发最多发起 3 次请求，设定 size 为 3，所有请求插入队列中。step 1：首先并发 3 次请求，size 减为 0。step2：最先返回的请求，size 加 1，从队列中取出一次请求再发出，size 减 1。step3：其他请求返回，重复step2. 这样保证同时最多只有三个并发请求。


[[https://juejin.cn/post/6912220538286899207]]
